From: "Alex Botero-Lowry" <alex.boterolowry@gmail.com>
To: notmuch@notmuchmail.org
Date: Tue, 17 Nov 2009 16:23:53 -0800
Subject: [notmuch] [PATCH] Error out if no query is supplied to search
	instead of going into an infinite loop
Message-ID: <cf0c4d610911171623q3e27a0adx802e47039b57604b@mail.gmail.com>

In this case error out when no query is supplied. There seems to be an
infinite-loop casued by i think notmuch_query_search_threads having
an exception:

A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>
A Xapian exception occurred: Syntax: <expression> AND <expression>

I'll look into that bug specifically a bit later.

It might be better to do a usage instead of just throwing an error here?

alex
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://notmuchmail.org/pipermail/notmuch/attachments/20091117/b95e96cd/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Error-out-if-no-query-is-supplied-to-search-instead-.patch
Type: application/octet-stream
Size: 793 bytes
Desc: not available
URL: <http://notmuchmail.org/pipermail/notmuch/attachments/20091117/b95e96cd/attachment.obj>

