From: "Alex Botero-Lowry" <alex.boterolowry@gmail.com>
To: notmuch@notmuchmail.org
Date: Tue, 17 Nov 2009 11:36:14 -0800
Subject: [notmuch] preliminary FreeBSD support
Message-ID: <cf0c4d610911171136h1713aa59w9cf9aa31f052ad0a@mail.gmail.com>

I saw the announcement this morning, and was very excited, as I had been
hoping sup would be turned into a library,
since I like the concept more than the UI (I'd rather an emacs interface).

I did a preliminary compile which worked out fine, but
sysconf(_SC_SC_GETPW_R_SIZE_MAX) returns -1 on
FreeBSD, so notmuch_config_open segfaulted.

Attached is a patch that supplies a default buffer size of 64 in cases where
-1 is returned.

http://www.opengroup.org/austin/docs/austin_328.txt - seems to indicate this
is acceptable behavior,
and http://mail-index.netbsd.org/pkgsrc-bugs/2006/06/07/msg016808.htmlspecifically
uses 64 as the
buffer size.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://notmuchmail.org/pipermail/notmuch/attachments/20091117/380386ea/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Deal-with-situation-where-sysconf-_SC_GETPW_R_SIZE_M.patch
Type: application/octet-stream
Size: 1050 bytes
Desc: not available
URL: <http://notmuchmail.org/pipermail/notmuch/attachments/20091117/380386ea/attachment.obj>

