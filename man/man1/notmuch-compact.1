.TH NOTMUCH-COMPACT 1 2013-12-07 "Notmuch 0.17~rc3"
.SH NAME
notmuch-compact \- compact the notmuch database
.SH SYNOPSIS

.B notmuch compact
.RI "[ --quiet ]"
.RI "[ --backup=<" directory "> ]"

.SH DESCRIPTION

The
.B compact
command can be used to compact the notmuch database. This can both reduce
the space required by the database and improve lookup performance.

The compacted database is built in a temporary directory and is later
moved into the place of the origin database. The original uncompacted
database is discarded, unless the
.BR "\-\-backup=" <directory>
option is used.

Note that the database write lock will be held during the compaction
process (which may be quite long) to protect data integrity.

Supported options for
.B compact
include

.RS 4
.TP 4
.BR "\-\-backup=" <directory>

Save the current database to the given directory before replacing it
with the compacted database. The backup directory must not exist and
it must reside on the same mounted filesystem as the current database.

.RE

.RS 4
.TP 4
.BR \-\-quiet

Do not report database compaction progress to stdout.

.RE

.RE
.SH ENVIRONMENT
The following environment variables can be used to control the
behavior of notmuch.
.TP
.B NOTMUCH_CONFIG
Specifies the location of the notmuch configuration file. Notmuch will
use ${HOME}/.notmuch\-config if this variable is not set.
.SH SEE ALSO

\fBnotmuch\fR(1), \fBnotmuch-count\fR(1), \fBnotmuch-dump\fR(1),
\fBnotmuch-hooks\fR(5), \fBnotmuch-insert\fR(1), \fBnotmuch-new\fR(1),
\fBnotmuch-reply\fR(1), \fBnotmuch-restore\fR(1), \fBnotmuch-search\fR(1),
\fBnotmuch-search-terms\fR(7), \fBnotmuch-show\fR(1),
\fBnotmuch-tag\fR(1)
