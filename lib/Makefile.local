dir=lib

lib_notmuch_modules =		\
	$(dir)/database.o	\
	$(dir)/index.o		\
	$(dir)/$(dir)sha1.o	\
	$(dir)/message.o	\
	$(dir)/message-file.o	\
	$(dir)/query.o		\
	$(dir)/sha1.o		\
	$(dir)/tags.o		\
	$(dir)/thread.o		\
	$(dir)/xutil.o

$(dir)/notmuch.a: $(lib_notmuch_modules)
	$(AR) rcs $@ $^

SRCS  := $(SRCS) lib/*.c lib/*.cc
CLEAN := $(CLEAN) $(dir)/*.o $(dir)/notmuch.a
